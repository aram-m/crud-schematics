<ng-container>
  <ng-loading *ngIf="loading" [table]="true"></ng-loading>
  <table *ngIf="data.length; else noRecords" mat-table [dataSource]="data">
    <ng-container matColumnDef="identifier">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        {{ 'text.identifier' | translate }}
      </th>
      <td mat-cell *matCellDef="let record">{{ record.identifier }}</td>
    </ng-container>
    <ng-container matColumnDef="code">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        {{ 'text.code' | translate }}
      </th>
      <td mat-cell *matCellDef="let record">
        {{ record.rootCode }}
      </td>
    </ng-container>
    <ng-container matColumnDef="nameInEstonian">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        {{ 'text.name_ee' | translate }}
      </th>
      <td mat-cell *matCellDef="let record">
        {{ record.nameInEstonian }}
      </td>
    </ng-container>
    <ng-container matColumnDef="nameInEnglish">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        {{ 'text.name_en' | translate }}
      </th>
      <td mat-cell *matCellDef="let record">
        {{ record.nameInEnglish }}
      </td>
    </ng-container>
    <ng-container matColumnDef="type">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        {{ 'text.type' | translate }}
      </th>
      <td mat-cell *matCellDef="let record">
        {{ record.typeCode }}
      </td>
    </ng-container>
    <ng-container matColumnDef="class">
      <th mat-header-cell *matHeaderCellDef>
        {{ 'text.class' | translate }}
      </th>
      <td mat-cell *matCellDef="let record">
        {{ record.classCode }}
      </td>
    </ng-container>
    <ng-container matColumnDef="group">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>
        {{ 'text.group' | translate }}
      </th>
      <td mat-cell *matCellDef="let record">{{ record.groupCode }}</td>
    </ng-container>
    <ng-container matColumnDef="actions" stickyEnd>
      <th mat-header-cell *matHeaderCellDef></th>
      <td mat-cell *matCellDef="let record">
        <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="actions">
          <mat-icon>more_vert</mat-icon>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="edit.emit(record.uuid)">
            {{ 'system.edit' | translate }}
          </button>
          <button mat-menu-item [disabled]="record.connectedTo" (click)="remove.emit(record.uuid)">
            {{ 'system.delete' | translate }}
          </button>
        </mat-menu>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</ng-container>
<ng-template #noRecords>
  <div class="empty-table">
    <h3>
      {{ 'text.no_records' | translate }}
    </h3>
  </div>
</ng-template>
